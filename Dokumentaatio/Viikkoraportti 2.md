###Viikkoraportti 2

Tällä viikolla testasin hieman erilaisia tekoäly vaihtoehtoja sekä tutustuin tarkemmin mahdollisiin parannuksiin evaluaatiofunktiossa. Lopputuloksena päädyin siihen, että lisään vain nappulan luokkakohtaisen sijaintiarvon ja liikkuvuusarvon mukaan. Muut lukemistani vaihtoehdoista olisivat vaikuttaneet evaluaatiofunktion aikavaativuuteen liian paljon. Työhön käytin noin 15h tällä viikolla.

Ohjelma edistyi melko hitaasti tällä viikolla, sillä ajasta kuului suuri osa erilaiseen suunnitteluun ja kirjoitustyöhön. Toisaalta tässä kohtaa olen jo aika varma mitä täsmälleen ohjelmaan lopulta tulee, joten tietorakenteiden toteutusta lukuunottamtta ohjelma tulee pian olemaan valmis. Tällä viikolla tuli myös pohdittua aikavaativuuksia vielä tarkemmin, sillä alun perin ajatuksena oli vain luoda tekoäly, joka tekisi siirron noin sekunnissa. Aikavaativuus analyysissä tämä on suri ongelma, sillä O-notaatio ei ota kantaa kertoimiin ja antaa näin vain likiarvon kuluvalle ajalle. Toisaalta pienen tutkimisen jälkee sain selville, että tietokone voisi hyvin (ainakin vanha) suorittaa noin 600 000 laskutoimitusta sekunnissa ja antamani ääripäät huomiotta jättävä ylä-arvio ohjelman vaatimista laskutoimituksista syvyydellä kolme antaisi määräksi noin 800 000 (kertoimet tietenkin pitäisi selvittää erikseen, sillä niitä ei tässä huomioitu). Tämä kuulostaisi omaan testailuuni nähden kohtuu uskottavalta.

Mainittakoon opittuna asiana, että ohjelmassa ilmeävät virheet eivät aina johdu suoraan viimeisestä päivityksestä. Löysin siis ikivanhasta metodistani virheen, mutta se ei ollut tullut esille ennen tekoälyn lisäämistä harvinaisuuden takia. Tekoälyn toteutus sen sijaan sai sen yleistymään ja näin sotilaat alkoivat liikkua kaksi ruutua kerrallaan. Päädyin myös tehokkuuden nimissä tutkimaan kuninkaan syömistä matittamisen sijaan, jotta vältettäisiin kalliita kaikkien siirtojen läpikäyntejä rekursiossa. Tämä tuntui eräässä mielessä hassulta, sillä nyt matitus havaitaan yksi vuoro myöhässä, mutta se mahdollisti rekursiosyvyyden neljä käytön kohtuullisesti. Lisäksi tekoäly yllättäen ei tuntunut juuri heikkenevän. Lisähuomutus vielä opittuihin asioihin, palautus tosiaan onkin maanantaina eikä tiistaina :), jonka tajusin sunnuntaina ollessani jo menossa nukkumaan.

Vaikeuksia tosiaan tuotti aikavaativuuden arviointi, sillä maximin-algoritmissä pelaaja vuorottelee ja näin siitä on vaikea saada mitään konkreettista irti. Tarkassa kaavassa jouduttaisiin merkitsemään jokaisen vuoron mahdollisten siirtojen määrää eri indeksillä ja syvemmässä rekursiossa tämä karkaisi käsistä täysin. Lisäksi kaava ei oikeastaan sanoisi suoraan mitään aikavaativuudesta. Näin päädyin suosiolla arvioimaan siirtojen määrän ylöspäin (karkeasti) lukuun 160, jolloin kaavasta tulee paljon yksinkertaisempi ja siitä voi päätellä jotain ohjelman aikavaativuudesta.

Seuraavaksi lisään ohjelmaan sijaintikohtaiset nappulan arvot ja alan luomaan omia tietorakenteita, sillä niitä riittää (HashMap, ArrayList ja HashSet). Aion myös kokeilla vaikeustasojen lisäystä, mikäli siihen jää aikaa. Vaikeustasojen ei tulisi olla vaikeita lisätä, jos vain varioin maximinin rekursiosyvyyttä, mutta gui-osuus saattaisi viedä aikaa, sillä en ole juuri tehnyt guita.
