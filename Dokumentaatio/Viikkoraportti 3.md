#Viikkoraportti 3

Tällä viikolla olen käyttänyt työhön 29 tuntia. Tällä viikolla olen tehnyt uusia tietorakenteita (Pair, Node, MyHashset, MyHashMap, MyArrayList, MyLinkedList ja TranspositionKey), niihin testit metodeille, jotka eivät ole triviaaleja (setterit, getterit). Tämän lisäksi lisäsin evaluaatiofunktioon nappuloille paikkakohtaiset arvot, muutin min-maxin negamaxiksi ja nopeutin negamaxia alpfa-beeta karsinnalla. Alfa-beeta karsinnan nopeuttamiseksi otan ylös aiemmin iteraatiossa saadut parhaat siirrot (principal move) ja kokeilen niitä ensin. Lisäksi käytän transpositiotauluja (dynaamista muistia) välttääkseni saman tilanteen arvon uudelleen laskemisen.

Ohjelma on kokonaisuutena edistynyt varsin hyvin ja olen kohta valmis tekemään tarkempia testejä, sillä rakenne alkaa jo lähestyä tavoitetta. Harmi kyllä jokin viikon aikana tekemistäni bugikorjauksista aiheutti ohjelman aikavaativuuden nopean kasvun, joten aiemmin paras siirto laskettiin useimmiten alle kahdessa sekunnissa ja nyt - nopeutusten jälkee- thän menee vielä useimmiten noin kuusi sekuntia (syvyydellä kolme). Tätä varten pyrinkin ensi viikolla nopeuttamaan ohjelma entisestään.

Tällä viikolla opin, että tietorakenteet ovat yllättävän helppoja toteuttaa ja että Javan valmiit tietorakenteet ovat huomattavasti vähemmän optimoituja - ja yksinkertaisempia - kuin oletin. Opin myös paljon erilaisista heuristiikoista, joilla alfa-beeta-karsintaa voi nopeuttaa ja näitä pyrinkin lisäämään työhöni. Totesin myös ohjelmani logiikan testien (etenkin evaluaatiofunktion) rikkoutuvan koko ajan, joten teen ne vasta lopuksi. Toistaiseksi pidän logiikan testit minimissään ja niin yksinkertaisina, etteivät ne rikkoudu.

Vaikeuksia tuotti negamaxin toteutus ja sen ymmärtäminen, sillä se tuntui aluksi todella hämäävältä. Tämä siis siitä huolimatta, että sen idea ja pseudokoodi näyttivät selkeiltä. Näin lopuksi todettakoon, että voisin ennen vertaisarviota hieman selventää, mitä negamax tekee. Mainittakoon vaikeaksi se, etten ole vielä uskaltanut edes yrittää laskea ohjelmani keskimääräistä aikavaativuutta, vaan ainoastaan kokeilllut sitä pelaamalla itse tekoälyä vastaan tai laittamalla kaksi teko älyä vastakkain.

Seuraavaksi korjaan siirtojen kumoamismenetelmääni, joka tekee ylimääräistä työtä. Tällä ei normishakissa ollut väliä, mutta jatkuvassa evaluaatiossa työ kasaantuu ja se hidastanee ohjelmaani selkeästi. Lisäksi aion lisätä työhöni ainakin "tappajaheuristiikan" nopeuttamaan karsintaa. Näin tavoitteeni onkin saada ainakin syvyyden kolme aikavaativuus lähes aina alle sekuntiin. Tämä mahdollistaisi todella mukavan ja interaktiivisen elämyksen pelaajalle.
